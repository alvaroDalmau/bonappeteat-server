(this["webpackJsonpbonappeteat-client"]=this["webpackJsonpbonappeteat-client"]||[]).push([[0],{46:function(e,t,A){},72:function(e,t,A){},73:function(e,t,A){},74:function(e,t,A){},75:function(e,t,A){},76:function(e,t,A){},77:function(e,t,A){},78:function(e,t,A){},79:function(e,t,A){},80:function(e,t,A){},81:function(e,t,A){},82:function(e,t,A){"use strict";A.r(t);var a=A(1),n=A.n(a),s=A(23),c=A.n(s),r=(A(46),A(15)),i=A(2),o=A(3),l=A(5),d=A(4),h=A(6),u=A(8),j=A.n(u),p="https://bonappeteat.herokuapp.com",g=(A(65),A(13)),b=A.p+"static/media/logo-bonAppeteat.0b754076.png",m=A(0),f=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={display:!1},e.handleDisplay=function(){e.state.display?e.setState({display:!1}):e.setState({display:!0})},e}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props,t=e.loggedInUser,A=e.onLogOut,a=this.state.display;return Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsxs)("div",{className:"logoNav",children:[Object(m.jsxs)("a",{className:"aNav",href:"/",children:[Object(m.jsx)("img",{alt:"logo bonappeteat",src:b}),Object(m.jsx)("p",{children:"BonAppeteat"})]}),Object(m.jsx)("img",{onClick:this.handleDisplay,className:"hamburguer-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAMAAABIw9uxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB1UExURUdwTHR3eHR3eXN2eHN3eXN3d3N1eHR3eXR3eHN4eHR3eHR3eXF4fHV3eHR2eHR3eXN2eHR2eHN3eXN1eXR3eXR3eHN3eXN2eHN2eXN2eHR3eXN2eXR2eHN3eXN2eG9vcnN2eXN2eXR2eXN3eHN2eHR2eXR3eX2FktQAAAAmdFJOUwDHlaS3cWbrrTPS4goWvVZFJ/Effk49hF/4brHbeIwELZ056GpkFTWM5AAAD2ZJREFUeNrs3Ql2IjcQAFCxGczWwLDYYDbbzP2PmFwgeckMkqqn/z9C6VUh1KVSSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQCmL19339nIfTIB/Mbhftt+718Wfk/uvj/5y/BP4H8bL/uO1/cl/Hm6sJfyazfDc4iKw6s8sIfyeWX/Vyt/+i+yH59SAS9v2AW9LqwbPs3xrT/bPR3784dnbgNG8Fel/PTvyhwzG52v8/D9+WSjI4+sYPP13U4sE+Ux3kdv9BhYI8hqEbRJ86PmB7DYPP/9gExCr7c+nPyhkFq458GxRoJxzrPy/WxEo6R7p77/GXyhsGeYgYO3jPxQ3XQe59+f4DyqYhbgj+OnrP1Sx+ZT/oALUc5P/UK8C3Orm/48PawD1fPyoWgB6VgBq6tXMf+3/UNmgXv5vRR9q29bK/0bsob6m0gGg2X8QwLjOQeBJ5CGCU438H4k7xDCq0AEk6hBF+X6goaBDFMPib3+JOcRR+OWwuSvAEMis7LthBxGHSA5FWwDEG2Ip2QzQF26IpV9wCKBoQzRrGwCwBcg/BVysIZ5Sc8LdAoaASt0L1gMAAc2MAYAOKzMYYCLQENHEESB0WIljwG9hhpi+CxQALwFDUEv/AMB/AIMAoIvyjwXwFgiENdAFBN2VvRfIRUAIbO0IABwCuAkMHZT7TrD3wCGw3K+Fb4QY4tqYBgodlnc26EqAIbKVm0DQXXnvA3kQBELL+0DIXYAhsrs3gaG7htoAoLvyNgJMBRgim7oLCN2V9z7gWIAhsrECAAqAAgAKgAIACsCzfAgwRPbhMyB011QjEHRX3kagkwBDZCcjAaG78g4F3AowRLY1FRy6K+9c8L0AQ2R7bwNDd2V+H/hLhCGur8zvAiyFGOJaZi4AFyGGuC6ZC0AjxBBXk7kAOAWEwDKfAboOBIFNc+e/ZmCIq5+9AOwEGaLaZS8A13dRhpjer9kLQJoIM8Q0yZ//PgRCVE2BAnDdiDNEtCnwD8ALwRDUvUT+uxIMMe2LFACTQSGiXpn8Tw+hhngehQqA94EgnnGp/E9nwYZozsUKwNwWAKJtAObJFgBsAAqYiTdEMiuZ/+lFwCGSl6IFQC8ARNIrm/9pJeQQx6pwATAZCOLol87/NHcOCEHM5sULgNlgEMWufP6nqzdCIIRLqsKXAAigVyf/0818UKju/VapABgPCPU1qZqt6ENd21SR+YBQ1T1V5ZUAqGhSN//TdWkNoJbltXIBSHMfA6GS3jwlFQDkf8UKMLQSUN4wRP7/bWAtoLRBCsO1ACjskgI5Wg8o6ZhCWRkPAMXMVimYhZYgKGSySPGMrAuUMEoh3XQFQnbLW4rquLE8kNPmmAJbGBYMGfUXKbbXk0WCPE6fKb6V1mDIYLhK7bDXGwxPNtin9lgfxlYMnmV8WKeWaXQGwVNMmtRG82ZgHwC/99s/aOapvT7PQ70B8Es2w/Nnar91c5hMlQH476k/nRyadfqTLG773dvLcQT8o+P3225/WyQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/mLv3rLURmIAgBbQHZ4NmDYQXg1Nk9n/Eudv/mbOJKGq5PjeJUhHwlTJMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQY2/vzW0K/Ktb8/72xxX++/p1+DIb/wX8D+PZy/B1/f5HFP+uPX3JKPy8r1O76/Yv/+N0kEb4dYfTo6NPAm/HgfTB7xu8du9YYDuRN3iWybZL1X89zqQMnml2vHak/Bet8354unG76EL9XzZSBTlsLuHL/8dcmiCX+Y/Q5X9fShHktLzHrf8P6YHcPqLO/Dn6hwJmIecDW4mBMtp4c38nWYFSTsFmA3dnOYFyzqH+BnyXECjre6DZH9mA0i5u/6DHgtwHDmUCahiqf9AB1D/oADXs5QDq2det/1cZgJpea9b/SvyhrlW9+p/a+QuVHabVdn95/Q+qm9XaFDYSe6hvVKf+jyIPETxq1P9N3CGGW4UGYP0fBLE0AQA9Vnwa4N0NIIRxeHcDAP1V+CZgLeIQybpoA/DlbwhlYAcg9FjJHYFmgCGYmQcA8AjgBACcAmS0FWuIZ1uoAfgKGAR0KlP/jUhDRI09oNBfZTaE+g4ohHQ2BQw9VmIe2JdAIKgS3wmZCzPENM9f/3dRhqju7gCgv/LfAxgDhrCyjwMvxBjiWrgEhP7KfRHYCjHE1WZuABMhhrgm5oChv87OAKHH8p4CTgUYIptmbQArAYbIVlkbwEWAIbKLVwGhv4ZuAaG/8t4DLgUYIlv6JBD018wcEPRX3kmgsQBDZGMNADQADQA0AA0ANAArgaEX5m4BoL/y3gJYCQqhDUwCQn+9ZG0AIwGGyEZZG8CHAENkH1kbwFGAIbJj1gawFWCIbJu1ATQCDJE1edcCCzBElvm7ABYCQGCzzA3APSAENsrcAFwDQGDHzA3Al0EgsGnmBpA2YgxRbXLXfzoJMkR1yt4AHAJAb48AjAJBYE32BmASAKKa5a//1AozxNQWaAA3YYaYbgUagLVgENOgRP2nh0BDRI8iDWBxEGmI57Ao0gDSUKghnmGZ+ncMCBHdCjWANBFriGZSqv7TTrAhml2xBuCNIIjmVK7+0124IZZ7wQZgMxjEMipZ/94JhFiaog0g7UUc4tinwrwVDGHMSte/j4RBHNviDcBAMEQxLF//6XoWd4jgfK3QANJa4CGCdariIvJQ3yVVYhwIqhvVqv+0sB0MKpstqjWA1IzFH2oaN6kiB4FQ1TpVtZIBqGeVKvsuB1DLj1TdD1mAOr6lADwDQBXfUwjOAaCP////uQtwGwiFjdcpjMZEEBQ1aOLUf7peTQVDQaNrisWbQVDMJYWzth8AipitU0BXO4KggOE1xbS1KRRy//xvU1y2hUNWbQqtcR0A2YyaFN3dl0Mhi9M9dcFuIlXwbJNd6orb8CBf8DyH4S11yeJhOhieZPBYpM65tW4F4bfN2lvqqOZ42kgg/KrN6dikbpseR54E4Od/+UfHafpDNNvjx2g5OM/HwH+YnwfL0cdx2yQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPnnfrV73w9HkBfgPk9Fw/7ravf8xpX+9Hz8Hm7+An7AZfB7v165X/65dSiX8qmW76271bz+/ZBB+z/hz28Xqvw/HcgdP6QHDe8fK/9tA1uB5Bt+6U/1vrR9/ePZjQLvoRPkv9gfJguc77DvQAi5u/CCTzSV4+a9mkgT5zFaRx/0mEgR5TcIOCT78+Yf8RwGPmGf/fv6hzEPAW8CxP1N/UMhXuOHAVlKgnDZW/Y9kBEoaRTr9N/gLhQ3C3AbczrIBpZ1vQd75d/sHFRxC7ApYq3+o0wHWfv/BM0A9U/UP9TrAtPL5/1wOoJ551buAhfs/qGpQc0eA8X+obFKv/veiD7Xtq23/EHuor9KOkMbyLwhg01RpAC8iDxG8VNn+Ke4QQ4VdoVNRhyjKzwP56CeEsSz+7S8xhzgKfzlsYQMgBPJVdiDwQ8Qhko+iIwDiDbGUHAYYCjfE8ukBgL/buxukRGIgDKCtoICy/IMgCCJy/yvuCbZqayVJs/PeEb5Umpkh6cYjgAcA6KLHakPAZA351BoY5hYwJFTrXrA2YJDQqzYA0GF1GgPsBQ0Z7as0ApYz5FTjM+C7mCGnd/eAobsmDgGAd4CCtkKGrLbFC0BPyJBVzykg6K7iZ4E+ZQx5lb4SeBUx5HV1Exi6q/SdYPPAIbGHwgVgJ2LIa6cZGHTYsmgBmAkYMpsVLQDfAobMvnUDg+4q2xfsLGDIrOx4gL6AIbO+YwDQXWUPArwIGDI7uAsI3VX2PuBAwJDZQAEABUABAAVAAQAF4FYOAobMDv4GhO56cRAIuqvsQSCDQSG1oZaA0F1lmwKuBAyZrQwGg+4qOxxsI2DIbGM2MHRX4fnAFwlDXpfCcwG0BILE+oULgK6gkNhb4QKwFjHktS5cAHwFhMQKfwN0HQgSeym9/+MoZMjqWLwAmA4Iac2KF4BYSBlyWpTf/9ETM+TUq1AApmKGnKYVCoB3AOjuG4CmIJDUY5UC8CVoyOirSgHQGRQyeqiz/7UFgoy2lQqApgCQz6XW/o8nYUM2T9UKwMkjAGR7ADiFRwDwAFCBIaGQyqHm/vdHAOSyrVoAYiJxyGNSd/+bEAKZbCoXAJ2BII9j7f0fJ98BIYnDqXoB0CAcslhHA14CoKMvAP4JgCwmbfZ/zPUGguYW80YFQHtAaG8azXxIH9r6iIb0B4SmHqMpUwKgoWE01rcG0Eq/9f6Pkz8DoZHJqXkBiLEKAG32/zgy2FsJqG8fSZytBdR2jjTerAbU9RaJXK0H1PQcqWy0B4BqDptIZuxIEFTSG0c+3zsLA+XtviOluf8Dobj9PLK6DiwPlDS4Rl6nsT5hUNBxHLl9+hgIhfQ+4xTZfQ0tFNze8Cvuw8jZYLix8yjux3L1asXgVl5Xv+LOzM6aBsMNLM6zuEvrs+cA+Nlv/3kdd2z0NFQE4J9chk+juH/L9ar3cLGc8Ndb/6G3Wi/jfzJejmbT7fUZ+KPrdjobLccBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBjvwFnchajLRgZdAAAAABJRU5ErkJggg==",atl:"menu"})]}),a?t?Object(m.jsxs)("nav",{children:[Object(m.jsx)(g.b,{className:"account-btn",to:"/profile",onClick:this.handleDisplay,children:"Profile"})," ",Object(m.jsx)(g.b,{className:"account-btn transparency",to:"/",onClick:A,children:"Log OUT"})]}):Object(m.jsx)("a",{className:"account-btn",href:"#form",onClick:this.handleDisplay,children:"Account"}):Object(m.jsx)("div",{})]})}}]),A}(a.Component),O=(A(72),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){return Object(i.a)(this,A),t.apply(this,arguments)}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props.onSign;return Object(m.jsx)(n.a.Fragment,{children:Object(m.jsxs)("form",{className:"logForm",onSubmit:e,children:[Object(m.jsx)("p",{id:"emailHelp",className:"form-text text-muted",children:"If you have no account this will create you one. In case you've already got one, this will sign you in"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(m.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(m.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}}]),A}(a.Component)),x=(A(73),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){return Object(i.a)(this,A),t.apply(this,arguments)}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props.onSign;return Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)("h1",{children:"Enjoy your meal!"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(m.jsx)(O,{onSign:e})]})}}]),A}(a.Component)),v=(A(74),A(83)),y=A(84),w=A(87),C=A(85),N=A(86),I=A(14),B=A.n(I);A(37),A(75);function D(e){return Object(v.a)().setView(e.center),null}var k=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={position:[42,-3],display:!1,icon:"+"},e.handleDisplay=function(){e.state.display?e.setState({display:!1,icon:"+"}):e.setState({display:!0,icon:"-"})},e}return Object(o.a)(A,[{key:"componentDidMount",value:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){e.setState({position:[t.coords.latitude,t.coords.longitude]})})):console.log("Not Available")}},{key:"render",value:function(){var e=this.props.restaurants,t=this.state,A=t.display,a=t.icon,n=new B.a.Icon({iconUrl:"https://freewifi.com.cy/images/icons/locationicon.png",iconSize:[40,42]});return Object(m.jsxs)("div",{children:[Object(m.jsxs)("a",{className:"icon-map",onClick:this.handleDisplay,children:[a," Map"]}),A?Object(m.jsx)("div",{className:"map-container",children:Object(m.jsxs)(y.a,{style:{width:"800px",height:"400px"},center:this.state.position,zoom:15,scrollWheelZoom:!0,children:[Object(m.jsx)(D,{center:this.state.position}),Object(m.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e?e.map((function(e,t){return Object(m.jsx)(C.a,{icon:n,position:e.location,children:Object(m.jsx)(N.a,{children:Object(m.jsx)(g.b,{to:"/restaurant/".concat(e._id),children:e.name})})},t)})):Object(m.jsx)("div",{})]})}):Object(m.jsx)("div",{})]})}}]),A}(a.Component),S=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={restaurants:[],filterRestaurant:[],searchRestaurant:[],showResult:[],fetching:!0,msg:!1,message:""},e.handleSearch=function(t){var A=t.target.value.toLowerCase(),a=e.state.restaurants.filter((function(e){return e.name.toLowerCase().includes(A)}));e.setState({searchRestaurant:a},e.handleShowFilter)},e.handleFilter=function(t){var A=t.target.value;if("all"==A)e.setState({filterRestaurant:e.state.restaurants},e.handleShowFilter);else{var a=e.state.restaurants.filter((function(e){return e.category.includes(A)}));e.setState({filterRestaurant:a},e.handleShowFilter)}},e.handleShowFilter=function(){var t=[];e.state.searchRestaurant.forEach((function(A){e.state.filterRestaurant.forEach((function(e){A.name==e.name&&t.push(e)}))})),e.setState({showResult:t})},e}return Object(o.a)(A,[{key:"componentDidMount",value:function(){var e=this;j.a.get("".concat(p,"/api/restaurants")).then((function(t){e.setState({restaurants:t.data,searchRestaurant:t.data,filterRestaurant:t.data,showResult:t.data,fetching:!1},(function(){e.props.msg&&e.setState({msg:!0,message:e.props.msg},(function(){setTimeout((function(){return e.setState({msg:!1,message:""})}),3e3)}))}))})).catch((function(){console.log("Error grabing restaurants")}))}},{key:"render",value:function(){var e=this.state,t=(e.restaurants,e.showResult),A=e.fetching,a=e.msg,s=e.message;return Object(m.jsxs)(n.a.Fragment,{children:[a?Object(m.jsx)("div",{className:"alert alert-success",role:"alert",style:{width:"90%",margin:"5px auto"},children:s}):null,Object(m.jsx)("h2",{children:"Pick restaurant"}),Object(m.jsxs)("div",{className:"form-group filter",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"Categories"}),Object(m.jsxs)("select",{onChange:this.handleFilter,className:"form-control",children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"chinese",children:"chinesse"}),Object(m.jsx)("option",{value:"Indian",children:"Indian"}),Object(m.jsx)("option",{value:"Burguer",children:"Burguer"}),Object(m.jsx)("option",{value:"Spanish",children:"Spanish"}),Object(m.jsx)("option",{value:"Italian",children:"Italian"})]})]}),Object(m.jsx)("input",{onChange:this.handleSearch,className:"form-control mr-sm-2 search",type:"text",placeholder:"Enter restaurant name","aria-label":"Search"}),A?Object(m.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)(k,{restaurants:t}),t.map((function(e,t){return Object(m.jsx)(g.b,{to:"/restaurant/".concat(e._id),children:Object(m.jsxs)("div",{className:"card",style:{width:"20rem"},children:[Object(m.jsx)("img",{className:"card-img-top",src:e.images[0],alt:"restaurant image"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h4",{className:"card-title",children:[" ",e.name]}),Object(m.jsx)("p",{className:"card-text",children:e.category})]})]})},t)}))]})]})}}]),A}(a.Component),E=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){return Object(i.a)(this,A),t.apply(this,arguments)}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props,t=e.loggedInUser,A=e.onSign;return Object(m.jsx)(n.a.Fragment,{children:t?Object(m.jsx)(S,{msg:this.props.location.message}):Object(m.jsx)(x,{onSign:A})})}}]),A}(a.Component),F=(A(76),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={restaurant:{},bookings:[],position:[],timeValue:"",display:!1,icon:"+"},e.handleDisplay=function(){e.state.display?e.setState({display:!1,icon:"+"}):e.setState({display:!0,icon:"-"})},e.handleCreateBooking=function(t){t.preventDefault();var A=e.props.match.params.restaurantId;e.setState({timeValue:t.target.time.value},(function(){j.a.post("".concat(p,"/api/").concat(A,"/create"),{date:t.target.date.value,time:e.state.timeValue,pax:t.target.pax.value},{withCredentials:!0}).then((function(t){e.setState({bookings:[t.data],msg:"Your booking has been created"},(function(){e.props.history.push({pathname:"/",message:e.state.msg})}))})).catch((function(e){console.log("Bookings creation failed",e)}))}))},e}return Object(o.a)(A,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.restaurantId;j.a.get("".concat(p,"/api/restaurant/").concat(t)).then((function(t){e.setState({restaurant:t.data,fetching:!1,position:t.data.location})})).catch((function(){console.log("error getting restaurant details")}))}},{key:"render",value:function(){var e=this.state,t=e.restaurant,A=e.position,a=e.display,s=e.icon;if(!this.props.loggedInUser)return Object(m.jsx)(h.a,{to:"/"});var c=new B.a.Icon({iconUrl:"https://freewifi.com.cy/images/icons/locationicon.png",iconSize:[40,42]});return Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)("h1",{children:t.name}),Object(m.jsx)("p",{children:t.description}),Object(m.jsxs)("a",{className:"icon-map",onClick:this.handleDisplay,children:[s," Images"]}),a?Object(m.jsx)("div",{className:"display-img",children:t.images?t.images.map((function(e,t){return Object(m.jsx)("img",{src:e,alt:"restaurant image"},t)})):Object(m.jsx)("div",{})}):Object(m.jsx)("div",{}),A.length>0?Object(m.jsxs)(y.a,{style:{width:"500px",height:"300px"},center:A,zoom:13,scrollWheelZoom:!0,children:[Object(m.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(m.jsx)(C.a,{icon:c,position:A,children:Object(m.jsx)(N.a,{children:t.name})})]}):Object(m.jsx)("div",{}),Object(m.jsxs)("form",{className:"form-booking",onSubmit:this.handleCreateBooking,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlInput1",children:"Choose the day:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{className:"form-control",type:"date",name:"date"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"Hour:"}),Object(m.jsxs)("select",{name:"time",className:"form-control",id:"exampleFormControlSelect1",children:[Object(m.jsx)("option",{}),Object(m.jsx)("option",{disabled:"disabled",children:"---Lunch---"}),Object(m.jsx)("option",{children:"12:30-13:30"}),Object(m.jsx)("option",{children:"13:30-14:30"}),Object(m.jsx)("option",{children:"14:30-15:30"}),Object(m.jsx)("option",{disabled:"disabled",children:"---Dinner---"}),Object(m.jsx)("option",{children:"19:30-20:30"}),Object(m.jsx)("option",{children:"20:30-21:30"}),Object(m.jsx)("option",{children:"21:30-22:30"})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlSelect2",children:"Pax:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{name:"pax",type:"number",placeholder:"pax",min:"0",max:"10",className:"form-control"})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reserve your Booking"})]})]})}}]),A}(a.Component)),Q=Object(h.g)(F),U=(A(77),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:e.props.loggedInUser,password:"",displayEdit:!1,iconEdit:"+"},e.handlePasswordChange=function(t){t.preventDefault();var A=t.target.value;e.setState({password:A})},e.handleImageChange=function(t){t.preventDefault();var A=t.target.image.files[0];console.log(A);var a=new FormData;a.append("image",A),console.log(a),j.a.post("".concat(p,"/api/uploadprofile"),a,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.changeImg(t.data)}))})).catch((function(e){console.log("Failing uploading img profile")}))},e.handleDisplayEdit=function(){e.state.displayEdit?e.setState({displayEdit:!1,iconEdit:"+"}):e.setState({displayEdit:!0,iconEdit:"-"})},e}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props,t=e.changeUser,A=e.deleteUser,a=this.state,s=a.loggedInUser,c=a.displayEdit,r=a.iconEdit;return Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)("img",{className:"img-profile",src:s.image}),Object(m.jsxs)("a",{onClick:this.handleDisplayEdit,className:"account-btn transparency",children:[r," Edit your profile details"]}),c?Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Profile photo:"}),Object(m.jsxs)("form",{className:"form-photo",onSubmit:this.handleImageChange,encType:"multipart/form-data",children:[Object(m.jsx)("input",{type:"file",name:"image",accept:"image/png, image/jpg"}),Object(m.jsx)("button",{className:"btn btn-primary",children:"Upload"})]}),Object(m.jsxs)("form",{className:"logForm",onSubmit:t,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(m.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",defaultValue:s.email})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(m.jsx)("input",{onChange:this.handlePasswordChange,type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",value:this.state.password,placeholder:"******"})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Apply changes"})]}),Object(m.jsx)("button",{onClick:A,type:"button",className:"btn btn-outline-danger btn-delete",children:"Delete Account"}),Object(m.jsx)("p",{className:"form-text text-muted",style:{marginTop:"0"},children:"FYI, That's not cool buddy"})]}):Object(m.jsx)("div",{})]})}}]),A}(a.Component)),H=(A(78),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={bookings:[],fetching:!0,displayBook:!0,iconBook:"-"},e.handleDisplayBook=function(){e.state.displayBook?e.setState({displayBook:!1,iconBook:"+"}):e.setState({displayBook:!0,iconBook:"-"})},e}return Object(o.a)(A,[{key:"componentDidMount",value:function(){var e=this;j.a.get("".concat(p,"/api/bookings"),{withCredentials:!0}).then((function(t){e.setState({bookings:t.data,fetching:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.bookings,A=e.fetchig,a=e.displayBook,s=e.iconBook;return A?Object(m.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsxs)("a",{onClick:this.handleDisplayBook,className:"account-btn",children:[s," Your bookings"]}),a?Object(m.jsx)("div",{children:t.map((function(e,t){return Object(m.jsx)("div",{className:"card",style:{width:"18rem"},children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h4",{className:"card-title",children:e.restaurant.name}),Object(m.jsx)("p",{className:"card-subtitle mb-2 text-muted",children:e.date.slice(0,10)}),Object(m.jsx)("p",{className:"card-subtitle mb-2 text-muted",children:e.time}),Object(m.jsxs)("p",{className:"card-text info-pax",children:[e.pax," People"]})]})},t)}))}):Object(m.jsx)("div",{})]})}}]),A}(a.Component)),P=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){return Object(i.a)(this,A),t.apply(this,arguments)}return Object(o.a)(A,[{key:"render",value:function(){var e=this.props,t=e.loggedInUser,A=e.bookings,a=e.changeUser,s=e.deleteUser,c=e.changeImg;return t?Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)(U,Object(r.a)({changeImg:c,loggedInUser:t,changeUser:a,deleteUser:s},this.props)),Object(m.jsx)(H,{bookings:A})]}):Object(m.jsx)(h.a,{to:"/"})}}]),A}(a.Component),R=(A(79),A.p+"static/media/error-img.201c7b41.png"),G=function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){return Object(i.a)(this,A),t.apply(this,arguments)}return Object(o.a)(A,[{key:"render",value:function(){return Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)("h1",{children:Object(m.jsx)("b",{children:"404"})}),Object(m.jsx)("h2",{children:"Do you know what Pokemons and this page have in common?"}),Object(m.jsxs)("h2",{children:[" ",Object(m.jsx)("b",{children:"They do not exist!"})]}),Object(m.jsx)("img",{className:"img-error",src:R,alt:"pokemon error"})]})}}]),A}(a.Component),L=(A(80),A(81),function(e){Object(l.a)(A,e);var t=Object(d.a)(A);function A(){var e;Object(i.a)(this,A);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null,fetching:!0},e.handleSign=function(t){t.preventDefault();var A={email:t.target.email.value,password:t.target.password.value};j.a.post("".concat(p,"/api/user/log"),A,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/")}))})).catch((function(e){console.log("Error signing")}))},e.handleLogOut=function(){j.a.post("".concat(p,"/api/logout"),{},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:null})})).catch((function(e){console.log("Failing loging out")}))},e.handleChange=function(t){t.preventDefault();var A={email:t.target.email.value,password:t.target.password.value};console.log(A),j.a.patch("".concat(p,"/api/user"),A,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("Error changing profile details")}))},e.handleImgProfile=function(t){e.setState({loggedInUser:t})},e.handleDelete=function(){j.a.delete("".concat(p,"/api/user"),{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))})).catch((function(){console.log("Failed deleting user profile")}))},e}return Object(o.a)(A,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||j.a.get("".concat(p,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data,fetching:!1})})).catch((function(){console.log("Error grabing data from user session"),e.setState({fetching:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,A=t.loggedInUser,a=t.bookings;return t.fetching?Object(m.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)(f,{loggedInUser:A,onLogOut:this.handleLogOut}),Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{exact:!0,path:"/",render:function(t){return Object(m.jsx)(E,Object(r.a)({onSign:e.handleSign,loggedInUser:A},t))}}),Object(m.jsx)(h.b,{path:"/profile",render:function(t){return Object(m.jsx)(P,Object(r.a)({changeImg:e.handleImgProfile,loggedInUser:A,bookings:a,changeUser:e.handleChange,deleteUser:e.handleDelete},t))}}),Object(m.jsx)(h.b,{path:"/restaurant/:restaurantId",render:function(e){return Object(m.jsx)(Q,Object(r.a)({loggedInUser:A},e))}}),Object(m.jsx)(h.b,{component:G})]})]})}}]),A}(a.Component)),Y=Object(h.g)(L);c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(g.a,{children:Object(m.jsx)(Y,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.ed47a363.chunk.js.map