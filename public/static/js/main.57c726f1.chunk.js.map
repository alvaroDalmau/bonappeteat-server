{"version":3,"sources":["config.js","logo-bonAppeteat.png","components/NavBar.js","components/LogForm.js","components/AboutUs.js","components/Search.js","components/Restaurants.js","components/Home.js","components/RestaurantDetails.js","components/InfoUser.js","components/ActiveBooks.js","components/UserProfile.js","App.js","index.js"],"names":["process","NavBar","this","props","loggedInUser","onLogOut","Fragment","href","alt","src","logo","to","onClick","Component","LogForm","onSign","id","onSubmit","type","name","AboutUs","Search","onChange","change","placeholder","Restaurant","state","restaurants","filterRestaurant","handleSearch","event","searchText","target","value","toLowerCase","console","log","filteredArray","filter","singleRestaurant","includes","y","forEach","e","j","push","setState","handleFilter","filterKey","category","axios","get","config","then","response","data","catch","_id","map","index","restaurant","images","location","Home","user","Restaurants","RestaurantDetails","bookings","handleCreateBooking","preventDefault","restaurantId","match","params","post","dateTime","pax","withCredentials","history","err","description","i","step","min","max","withRouter","InfoUser","password","handlePasswordChange","handleImageChange","image","files","formData","FormData","append","changeImg","changeUser","deleteUser","encType","accept","defaultValue","email","ActiveBooks","changeDate","replace","slice","UserProfile","App","fetching","handleSign","handleLogOut","handleChange","patch","handleImgProfile","updatedUser","handleDelete","delete","exact","path","render","routeProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57c726f1.chunk.js","sourcesContent":["// eslint-disable-next-line\nexport default {\n  API_URL: process.env.REACT_APP_SERVER_URL,\n};\n","export default __webpack_public_path__ + \"static/media/logo-bonAppeteat.0b754076.png\";","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../logo-bonAppeteat.png';\n\nexport default class NavBar extends Component {\n  render() {\n    const { loggedInUser, onLogOut } = this.props;\n    return (\n      <React.Fragment>\n        {/* Logo and name */}\n        <a href=\"/\">\n          <img alt=\"logo bonappeteat\" src={logo} />\n          <p>BonAppeteat</p>\n        </a>\n\n        {/* nav --- depends if user is logged or not */}\n        {!loggedInUser ? (\n          <nav>\n            <a href=\"#form\">Account</a>\n          </nav>\n        ) : (\n          <nav>\n            <Link to=\"/profile\">Profile</Link>{' '}\n            <Link to=\"/\" onClick={onLogOut}>\n              Log OUT\n            </Link>\n          </nav>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class LogForm extends Component {\n  render() {\n    const { onSign } = this.props;\n    return (\n      <React.Fragment>\n        <form id=\"form\" onSubmit={onSign}>\n          <label>Email address</label>\n          <input type=\"email\" name=\"email\" />\n\n          <label>Password</label>\n          <input name=\"password\" type=\"password\" />\n\n          <button type=\"submit\">Submit</button>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport LogForm from './LogForm';\n\nexport default class AboutUs extends Component {\n  render() {\n    const { onSign } = this.props;\n    return (\n      <React.Fragment>\n        <h1>Bon Appeteat</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod\n          tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim\n          veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex\n          ea commodi consequat. Quis aute iure reprehenderit in voluptate velit\n          esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat\n          cupiditat non proident, sunt in culpa qui officia deserunt mollit anim\n          id est laborum.\n        </p>\n        <LogForm onSign={onSign} />\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nclass Search extends Component {\n  render() {\n    return (\n      <div>\n        <input\n          onChange={this.props.change}\n          type=\"text\"\n          placeholder=\"Enter the name\"\n        ></input>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport config from '../config.js';\nimport Search from './Search.js';\n\nclass Restaurant extends Component {\n  state = {\n    restaurants: [],\n    filterRestaurant: [],\n  };\n\n  componentDidMount() {\n    axios\n      .get(`${config.API_URL}/api/restaurants`)\n      .then(response => {\n        console.log('data fetched');\n        this.setState({\n          restaurants: response.data,\n          filterRestaurant: response.data,\n        });\n      })\n      .catch(() => {\n        console.log('Error grabing restaurants');\n      });\n  }\n\n  handleSearch = event => {\n    let searchText = event.target.value.toLowerCase();\n    console.log(this.state.filterRestaurant);\n    let filteredArray = this.state.restaurants.filter(singleRestaurant => {\n      return singleRestaurant.name.toLowerCase().includes(searchText);\n    });\n\n    let y = [];\n    this.state.filterRestaurant.forEach(e => {\n      filteredArray.forEach(j => {\n        if (e.name == j.name) {\n          y.push(j);\n        }\n      });\n    });\n\n    console.log(y);\n    this.setState({\n      filterRestaurant: filteredArray,\n    });\n  };\n\n  handleFilter = event => {\n    let filterKey = event.target.value;\n\n    if (filterKey == 'all') {\n      this.setState({\n        filterRestaurant: this.state.restaurants,\n      });\n    } else {\n      let filteredArray = this.state.restaurants.filter(singleRestaurant => {\n        return singleRestaurant.category.includes(filterKey);\n      });\n\n      this.setState({\n        filterRestaurant: filteredArray,\n      });\n    }\n  };\n\n  render() {\n    const { restaurants, filterRestaurant } = this.state;\n    return (\n      <div>\n        <h1>All the restaurants</h1>\n        {/* FILTER FORM */}\n\n        <select onChange={this.handleFilter}>\n          <option key={restaurants._id} value=\"all\">\n            All\n          </option>\n          {restaurants.map((restaurants, index) => (\n            <option key={index} value={restaurants.category}>\n              {restaurants.category}\n            </option>\n          ))}\n        </select>\n\n        {/* SEARCH BAR */}\n        <Search change={this.handleSearch} />\n        {filterRestaurant.map((restaurant, index) => {\n          return (\n            <div>\n              <div> {restaurant.category}</div>\n              <img src={restaurant.images[0]}></img>\n              <Link key={index} to={`/restaurant/${restaurant._id}`}>\n                {restaurant.name}\n              </Link>\n              <div> {restaurant.location}</div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\nexport default Restaurant;\n","import React, { Component } from 'react';\nimport AboutUs from './AboutUs.js';\nimport Restaurants from './Restaurants';\n\nexport default class Home extends Component {\n  render() {\n    const { user, onSign } = this.props;\n    return (\n      <React.Fragment>\n        {!user ? <AboutUs onSign={onSign} /> : <Restaurants />}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport config from '../config.js';\nimport { withRouter } from 'react-router-dom';\n\nclass RestaurantDetails extends Component {\n  state = {\n    restaurant: {},\n    bookings: [],\n  };\n\n  componentDidMount() {\n    let restaurantId = this.props.match.params.restaurantId;\n    axios\n      .get(`${config.API_URL}/api/restaurant/${restaurantId}`)\n      .then(response => {\n        this.setState({\n          restaurant: response.data,\n        });\n      })\n      .catch(() => {\n        console.log('error getting restaurant details');\n      });\n  }\n\n  handleCreateBooking = event => {\n    event.preventDefault();\n    let restaurantId = this.props.match.params.restaurantId;\n    axios\n      .post(\n        `${config.API_URL}/api/${restaurantId}/create`,\n        {\n          dateTime: event.target.dateTime.value,\n          pax: event.target.pax.value,\n        },\n        { withCredentials: true }\n      )\n      .then(response => {\n        this.setState(\n          {\n            bookings: [response.data],\n          },\n          () => {\n            this.props.history.push('/');\n          }\n        );\n      })\n      .catch(err => {\n        console.log('Bookings creation failed', err);\n      });\n  };\n\n  render() {\n    const { restaurant } = this.state;\n    return (\n      <React.Fragment>\n        <h1>{restaurant.name}</h1>\n        <div>{restaurant.description}</div>\n        {restaurant.images ? (\n          restaurant.images.map((e, i) => {\n            return <img key={i} src={e} alt=\"restaurant image\" />;\n          })\n        ) : (\n          <div></div>\n        )}\n        <form onSubmit={this.handleCreateBooking}>\n          <label>Choose the day and time:</label>\n          <input name=\"dateTime\" type=\"datetime-local\" step=\"1800\"></input>\n          <br />\n          <label>Pax:</label>\n          <input\n            name=\"pax\"\n            type=\"number\"\n            placeholder=\"pax\"\n            min=\"0\"\n            max=\"10\"\n          ></input>\n          <br />\n          <button type=\"submit\">Create booking</button>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\nexport default withRouter(RestaurantDetails);\n","import axios from 'axios';\nimport config from '../config';\nimport React, { Component } from 'react';\n\nexport default class InfoUser extends Component {\n  state = {\n    loggedInUser: this.props.loggedInUser,\n    password: '',\n  };\n\n  handlePasswordChange = event => {\n    event.preventDefault();\n    let password = event.target.value;\n    this.setState({\n      password,\n    });\n  };\n\n  handleImageChange = event => {\n    event.preventDefault();\n    let image = event.target.image.files[0];\n    console.log(image);\n    const formData = new FormData();\n    formData.append('image', image);\n    console.log(formData);\n    axios\n      .post(`${config.API_URL}/api/uploadprofile`, formData, {\n        withCredentials: true,\n      })\n      .then(response => {\n        this.setState({ loggedInUser: response.data }, () => {\n          this.props.changeImg(response.data);\n        });\n      })\n      .catch(err => {\n        console.log('Failing uploading img profile');\n      });\n  };\n\n  render() {\n    const { changeUser, deleteUser } = this.props;\n    const { loggedInUser } = this.state;\n    return (\n      <React.Fragment>\n        <img src={loggedInUser.image} />\n        <button>Edit your profile details</button>\n\n        <form onSubmit={this.handleImageChange} encType=\"multipart/form-data\">\n          <input type=\"file\" name=\"image\" accept=\"image/png, image/jpg\" />\n          <button>Submit</button>\n        </form>\n\n        <form onSubmit={changeUser}>\n          <label>Email:</label>\n          <input\n            name=\"email\"\n            type=\"email\"\n            defaultValue={loggedInUser.email}\n          ></input>\n          <label>Password:</label>\n          <input\n            onChange={this.handlePasswordChange}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"****\"\n            value={this.state.password}\n          ></input>\n          <button type=\"submit\">Apply changes</button>\n        </form>\n        <button>Your bookings</button>\n        <button onClick={deleteUser}>Delete Account</button>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class ActiveBooks extends Component {\n  changeDate = e => {\n    return e.replace('T', ' ').slice(0, 16);\n  };\n\n  render() {\n    const { bookings } = this.props;\n    return (\n      <React.Fragment>\n        {bookings.map((e, i) => {\n          return (\n            <div key={i}>\n              <h4>Restaurant:{e.restaurant.name}</h4>\n              <h4>Date:{this.changeDate(e.dateTime)}</h4>\n              <h4>People:{e.pax}</h4>\n            </div>\n          );\n        })}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport InfoUser from './InfoUser';\nimport ActiveBooks from './ActiveBooks';\n\nexport default class UserProfile extends Component {\n  render() {\n    const {\n      loggedInUser,\n      bookings,\n      changeUser,\n      deleteUser,\n      changeImg,\n    } = this.props;\n    return (\n      <React.Fragment>\n        <InfoUser\n          changeImg={changeImg}\n          loggedInUser={loggedInUser}\n          changeUser={changeUser}\n          deleteUser={deleteUser}\n          {...this.props}\n        />\n        <ActiveBooks bookings={bookings} />\n      </React.Fragment>\n    );\n  }\n}\n","//IMPORTED LIBRARIES\nimport React, { Component } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport config from './config';\n\n//IMPORTING COMPONENTS\nimport NavBar from './components/NavBar';\nimport Home from './components/Home.js';\nimport RestaurantDetails from './components/RestaurantDetails';\nimport UserProfile from './components/UserProfile';\n\n//RUNNING UP\nclass App extends Component {\n  state = {\n    loggedInUser: null,\n    bookings: [],\n    fetching: true,\n  };\n\n  //set state depends of session\n  componentDidMount() {\n    if (!this.state.loggedInUser) {\n      axios\n        .get(`${config.API_URL}/api/user`, { withCredentials: true })\n        .then(response => {\n          //grabbing bookings info of each user\n          axios\n            .get(`${config.API_URL}/api/bookings`, { withCredentials: true })\n            .then(bookings => {\n              this.setState({\n                loggedInUser: response.data,\n                bookings: bookings.data,\n                fetching: false,\n              });\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log('Error grabing data from user session');\n          this.setState({\n            fetching: false,\n          });\n        });\n    }\n  }\n\n  //create user\n  handleSign = event => {\n    event.preventDefault();\n    let user = {\n      email: event.target.email.value,\n      password: event.target.password.value,\n    };\n    axios\n      .post(`${config.API_URL}/api/user/log`, user, { withCredentials: true })\n      .then(response => {\n        this.setState(\n          {\n            loggedInUser: response.data,\n          },\n          () => {\n            this.props.history.push('/');\n          }\n        );\n      })\n      .catch(err => {\n        console.log('Error signing');\n      });\n  };\n\n  //logOUT and delete session\n  handleLogOut = () => {\n    axios\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\n      .then(response => {\n        this.setState({\n          loggedInUser: null,\n        });\n      })\n      .catch(err => {\n        console.log('Failing loging out');\n      });\n  };\n\n  //change user details\n  handleChange = event => {\n    event.preventDefault();\n    let user = {\n      email: event.target.email.value,\n      password: event.target.password.value,\n    };\n    console.log(user);\n    axios\n      .patch(`${config.API_URL}/api/user`, user, { withCredentials: true })\n      .then(response => {\n        this.setState(\n          {\n            loggedInUser: response.data,\n          },\n          () => {\n            this.props.history.push('/profile');\n          }\n        );\n      })\n      .catch(err => {\n        console.log('Error changing profile details');\n      });\n  };\n\n  //change img user\n  handleImgProfile = updatedUser => {\n    this.setState({\n      loggedInUser: updatedUser,\n    });\n  };\n\n  // Delete User\n  handleDelete = () => {\n    axios\n      .delete(`${config.API_URL}/api/user`, { withCredentials: true })\n      .then(() => {\n        this.setState({ loggedInUser: null }, () => {\n          this.props.history.push('/');\n        });\n      })\n      .catch(() => {\n        console.log('Failed deleting user profile');\n      });\n  };\n\n  render() {\n    //variable declaration\n    const { loggedInUser, bookings, fetching } = this.state;\n    if (fetching) {\n      return <p>Loading</p>;\n    }\n    //running\n    return (\n      <React.Fragment>\n        <NavBar loggedInUser={loggedInUser} onLogOut={this.handleLogOut} />\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return <Home onSign={this.handleSign} user={loggedInUser} />;\n            }}\n          />\n          <Route\n            path=\"/profile\"\n            render={routeProps => {\n              return (\n                <UserProfile\n                  changeImg={this.handleImgProfile}\n                  loggedInUser={loggedInUser}\n                  bookings={bookings}\n                  changeUser={this.handleChange}\n                  deleteUser={this.handleDelete}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/restaurant/:restaurantId\"\n            render={routeProps => {\n              return <RestaurantDetails user={loggedInUser} {...routeProps} />;\n            }}\n          />\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}